<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" href="/favicon.ico">
	<title>api - Humbak</title>
	<style>
		body {
			background-color: #fafafa;
			color-scheme: light;
			margin: 0;
			width: 100vw;
			height: 100vh;
			font-family:Atkinson Hyperlegible,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";
			display: grid;
			place-items: center;
		}
		.dark body {
			background-color: #171717;
			color: white;
			color-scheme: dark;
		}
		@font-face {
			font-family:Atkinson Hyperlegible;
			font-style:normal;
			font-weight:400;
			font-display:swap;
			src:url(https://fonts.bunny.net/atkinson-hyperlegible/files/atkinson-hyperlegible-latin-400-normal.woff2) format("woff2"),
				url(https://fonts.bunny.net/atkinson-hyperlegible/files/atkinson-hyperlegible-latin-400-normal.woff) format("woff");
		}
		h1 {
			position: absolute;
			margin: 0;
			font-size: clamp(3rem, 1.5714rem + 7.1429vi, 8rem);
			text-align: center;
			pointer-events: none;
			transform: translateY(-0.5rem);
		}
		canvas {
			width: 100%;
			height: 100%;
		}
	</style>
	<script>
		const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
		const setting = localStorage.getItem('color-scheme') || 'auto';

		if (setting === 'dark' || (prefersDark && setting !== 'light')) {
			document.documentElement.classList.toggle('dark', true);
		}
	</script>
</head>
<body>
	<canvas id="canvas"></canvas>
	<h1>humbak api</h1>
	<script>
		const canvas = document.getElementById('canvas');
		const ctx = canvas.getContext('2d');

		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;

		window.addEventListener('click', (event) => ripples.push(new Ripple(event.clientX, event.clientY)));
		window.addEventListener('resize', () => {
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;
		})

		const ripples = [];

		function animate() {
			ctx.clearRect(0, 0, canvas.width, canvas.height);

			for (const ripple of ripples) {
				ripple.draw();
			}

			requestAnimationFrame(animate);
		}

		animate();

		class Ripple {
			constructor(x = randomInt(canvas.width), y = randomInt(canvas.height)) {
				this.x = x;
				this.y = y;
				this.size = 10;
				this.timestamp = Date.now();

				setTimeout(() => {
					const index = ripples.findIndex(ripple => ripple.timestamp = this.timestamp);
					if (index !== -1) {
						ripples.splice(index, 1);
					}
				}, 100)
			}

			draw() {
				ctx.beginPath();
				ctx.arc(this.x, this.y, 5, 0, 2 * Math.PI);
				ctx.fillStyle = 'red';
				ctx.fill();
			}
		}

		function randomInt(max) {
			return Math.floor(Math.random() * (max + 1));
		}
	</script>
</body>
</html>
